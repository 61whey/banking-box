# üè¶ Bank-in-a-Box

> **–ì–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –±–∞–Ω–∫–∞ –¥–ª—è HackAPI 2025**  
> –°–æ–∑–¥–∞–π —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∞–Ω–∫ –∑–∞ 10 –º–∏–Ω—É—Ç!

## üéØ –ß—Ç–æ —ç—Ç–æ?

**Bank-in-a-Box** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –±–∞–Ω–∫–∞ —Å OpenBanking Russia API, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –º–æ–∂–µ—à—å:
- –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–≤–æ–µ–º —Å–µ—Ä–≤–µ—Ä–µ
- –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ HackAPI
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∏–Ω—Ç–µ—Ö-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

## ‚ú® –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### API (42+ endpoints):
‚úÖ **Accounts API** - —Å—á–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ (OpenBanking Russia v2.1)  
‚úÖ **Account-Consents API** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–∏—è–º–∏  
‚úÖ **Payments API** - –ø–ª–∞—Ç–µ–∂–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã  
‚úÖ **Products API** - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã  
‚úÖ **ProductAgreements API** - –¥–µ–ø–æ–∑–∏—Ç—ã, –∫—Ä–µ–¥–∏—Ç—ã, –∫–∞—Ä—Ç—ã  
‚úÖ **Banker API** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–∫–æ–º  
‚úÖ **Admin API** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞  
‚úÖ **JWKS** - —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è RS256

### UI (9 —Å—Ç—Ä–∞–Ω–∏—Ü):
‚úÖ **Client UI** - –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞  
‚úÖ **Banker UI** - –∫–∞–±–∏–Ω–µ—Ç –±–∞–Ω–∫–∏—Ä–∞  
‚úÖ **–¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞** üåô/‚òÄÔ∏è  
‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** (Desktop/Tablet/Mobile)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **FastAPI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Python web framework
- **PostgreSQL** - –Ω–∞–¥–µ–∂–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQLAlchemy** - async ORM
- **JWT** - HS256/RS256 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/GalkinTech/bank-in-a-box.git
cd bank-in-a-box

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env - —É–∫–∞–∂–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –±–∞–Ω–∫–∞

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker compose up -d

# 4. –û—Ç–∫—Ä—ã—Ç—å UI
open http://localhost:8000/client/
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL
createdb mybank_db

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

## ‚öôÔ∏è –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### 1. –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –∫–æ–¥ –±–∞–Ω–∫–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `.env`:
```env
BANK_CODE=mybank
BANK_NAME=My Awesome Bank
BANK_DESCRIPTION=–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –±–∞–Ω–∫
PUBLIC_URL=http://mybank.example.com
```

### 2. –î–æ–±–∞–≤—å —Å–≤–æ–∏ –ø—Ä–æ–¥—É–∫—Ç—ã

SQL —Å–∫—Ä–∏–ø—Ç `shared/database/init.sql` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã:
```sql
INSERT INTO products (product_id, product_type, name, interest_rate, min_amount, max_amount, term_months)
VALUES 
  ('deposit-high', 'deposit', '–ü—Ä–µ–º–∏—É–º –¥–µ–ø–æ–∑–∏—Ç', 12.0, 100000, 10000000, 12),
  ('loan-fast', 'loan', '–ë—ã—Å—Ç—Ä—ã–π –∑–∞–π–º', 18.0, 10000, 500000, 24);
```

### 3. –ù–∞—Å—Ç—Ä–æ–π —Å—Ç–∞–≤–∫–∏

–ß–µ—Ä–µ–∑ Banker UI:
1. –û—Ç–∫—Ä–æ–π http://localhost:8000/banker/
2. –õ–æ–≥–∏–Ω: `admin` / `admin`
3. –í–∫–ª–∞–¥–∫–∞ "Products" - –∏–∑–º–µ–Ω–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ —Å—Ç–∞–≤–∫–∏

### 4. –ë—Ä–µ–Ω–¥–∏–Ω–≥ UI

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `frontend/client/theme-styles.css`:
```css
:root {
    --primary: #yourcolor;
    --bank-name: "Your Bank";
}
```

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏

–ß—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ö–∞–∫–∞—Ç–æ–Ω–∞ –º–æ–≥–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–≤–æ–π –±–∞–Ω–∫:

### 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –±–∞–Ω–∫ –≤ Directory Service

```bash
curl -X POST http://directory.hackapi.tech/banks \
  -H "Content-Type: application/json" \
  -d '{
    "bank_code": "mybank",
    "bank_name": "My Awesome Bank",
    "api_url": "https://api.mybank.com",
    "jwks_url": "https://api.mybank.com/.well-known/jwks.json"
  }'
```

### 2. –û—Ç–∫—Ä–æ–π API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–í `config.py` –¥–æ–±–∞–≤—å –¥–æ–º–µ–Ω—ã –≤ CORS:
```python
allowed_origins = [
    "https://hackapi.tech",
    "http://localhost:*"
]
```

### 3. –°–æ–∑–¥–∞–π RSA –∫–ª—é—á–∏

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π (—É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ shared/keys/)
./scripts/generate_keys.sh mybank
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bank-in-a-box/
‚îú‚îÄ‚îÄ api/                    # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ accounts.py         # Accounts API
‚îÇ   ‚îú‚îÄ‚îÄ consents.py         # Consents API
‚îÇ   ‚îú‚îÄ‚îÄ payments.py         # Payments API
‚îÇ   ‚îú‚îÄ‚îÄ products.py         # Products API
‚îÇ   ‚îú‚îÄ‚îÄ product_agreements.py
‚îÇ   ‚îú‚îÄ‚îÄ banker.py           # Banker API
‚îÇ   ‚îú‚îÄ‚îÄ admin.py            # Admin API
‚îÇ   ‚îú‚îÄ‚îÄ auth.py             # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ well_known.py       # JWKS endpoint
‚îÇ   ‚îî‚îÄ‚îÄ ssa_registration.py # Directory —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ auth_service.py     # JWT + RS256
‚îÇ   ‚îú‚îÄ‚îÄ consent_service.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–∏—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ payment_service.py  # –ü–ª–∞—Ç–µ–∂–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã
‚îÇ
‚îú‚îÄ‚îÄ frontend/               # UI
‚îÇ   ‚îú‚îÄ‚îÄ client/             # Client UI (5 —Å—Ç—Ä–∞–Ω–∏—Ü)
‚îÇ   ‚îî‚îÄ‚îÄ banker/             # Banker UI (4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
‚îÇ
‚îú‚îÄ‚îÄ shared/                 # –û–±—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ database/           # SQL init —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ keys/               # RSA –∫–ª—é—á–∏
‚îÇ
‚îú‚îÄ‚îÄ main.py                 # FastAPI app
‚îú‚îÄ‚îÄ models.py               # SQLAlchemy models (16 —Ç–∞–±–ª–∏—Ü)
‚îú‚îÄ‚îÄ config.py               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ database.py             # Async PostgreSQL
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile              # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã (16 —à—Ç):

1. **clients** - –∫–ª–∏–µ–Ω—Ç—ã –±–∞–Ω–∫–∞
2. **accounts** - —Å—á–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
3. **transactions** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
4. **products** - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
5. **product_agreements** - –¥–æ–≥–æ–≤–æ—Ä—ã (–¥–µ–ø–æ–∑–∏—Ç—ã, –∫—Ä–µ–¥–∏—Ç—ã, –∫–∞—Ä—Ç—ã)
6. **consents** - —Å–æ–≥–ª–∞—Å–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
7. **consent_requests** - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–≥–ª–∞—Å–∏—è
8. **payments** - –ø–ª–∞—Ç–µ–∂–∏
9. **interbank_transfers** - –º–µ–∂–±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
10. **bank_capital** - –∫–∞–ø–∏—Ç–∞–ª –±–∞–Ω–∫–∞
11. **bank_settings** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
12. **auth_tokens** - —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
13. **notifications** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
14. **key_rate_history** - –∏—Å—Ç–æ—Ä–∏—è –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞–≤–∫–∏ –¶–ë

### –ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
alembic revision --autogenerate -m "–æ–ø–∏—Å–∞–Ω–∏–µ"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ß–µ—Ä–µ–∑ UI

–û—Ç–∫—Ä–æ–π http://localhost:8000/client/test.html

**–¢–µ—Å—Ç–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã:**
- `cli-mybank-001` / `password`
- `cli-mybank-002` / `password`

### 2. –ß–µ—Ä–µ–∑ Swagger

–û—Ç–∫—Ä–æ–π http://localhost:8000/docs

### 3. –ß–µ—Ä–µ–∑ curl

```bash
# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
curl -X POST http://localhost:8000/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "cli-mybank-001", "password": "password"}'

# –ü–æ–ª—É—á–∏—Ç—å —Å—á–µ—Ç–∞
curl -X GET http://localhost:8000/accounts \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## üì° API Endpoints

### Auth API
- `POST /auth/login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- `POST /auth/bank-token` - —Ç–æ–∫–µ–Ω –¥–ª—è –º–µ–∂–±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `POST /auth/banker-login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–∞–Ω–∫–∏—Ä–∞
- `GET /auth/me` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### Accounts API (OpenBanking Russia v2.1)
- `GET /accounts` - —Å–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤
- `GET /accounts/{accountId}` - –¥–µ—Ç–∞–ª–∏ —Å—á–µ—Ç–∞
- `GET /accounts/{accountId}/balances` - –±–∞–ª–∞–Ω—Å
- `GET /accounts/{accountId}/transactions` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `POST /accounts` - —Å–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç
- `DELETE /accounts/{accountId}` - –∑–∞–∫—Ä—ã—Ç—å —Å—á–µ—Ç

### Account-Consents API (OpenBanking Russia v2.1)
- `POST /account-consents/request` - –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ
- `POST /account-consents/sign` - –ø–æ–¥–ø–∏—Å–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ
- `GET /account-consents/my-consents` - –º–æ–∏ —Å–æ–≥–ª–∞—Å–∏—è
- `GET /account-consents/requests` - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–≥–ª–∞—Å–∏–µ
- `POST /account-consents/requests/{id}/approve` - –æ–¥–æ–±—Ä–∏—Ç—å
- `POST /account-consents/requests/{id}/reject` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å
- `DELETE /account-consents/{consentId}` - –æ—Ç–æ–∑–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ

### Payments API
- `POST /payments` - —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂
- `GET /payments/{paymentId}` - —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞

### Products API
- `GET /products` - –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- `GET /products/{productId}` - –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞

### ProductAgreements API
- `GET /product-agreements` - —Å–ø–∏—Å–æ–∫ –¥–æ–≥–æ–≤–æ—Ä–æ–≤
- `POST /product-agreements` - –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–¥—É–∫—Ç
- `GET /product-agreements/{agreementId}` - –¥–µ—Ç–∞–ª–∏
- `DELETE /product-agreements/{agreementId}` - –∑–∞–∫—Ä—ã—Ç—å

### Banker API
- `GET /banker/products` - –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã
- `PUT /banker/products/{id}` - –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞–≤–∫–∏
- `POST /banker/products` - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç
- `GET /banker/clients` - —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `GET /banker/consents` - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–≥–ª–∞—Å–∏—è

### Admin API
- `GET /admin/capital` - –∫–∞–ø–∏—Ç–∞–ª –±–∞–Ω–∫–æ–≤
- `GET /admin/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /admin/transfers` - –º–µ–∂–±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
- `GET /admin/payments` - –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏
- `GET /admin/key-rate` - –∫–ª—é—á–µ–≤–∞—è —Å—Ç–∞–≤–∫–∞ –¶–ë
- `POST /admin/key-rate` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É

### JWKS
- `GET /.well-known/jwks.json` - –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è RS256

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**Client tokens** - HS256 JWT:
```json
{
  "sub": "cli-mybank-001",
  "type": "client",
  "bank": "self"
}
```

**Bank tokens** - RS256 JWT:
```json
{
  "sub": "mybank",
  "type": "bank",
  "iss": "mybank",
  "aud": "interbank"
}
```

### –°–æ–≥–ª–∞—Å–∏—è (Consents)

–î–ª—è –º–µ–∂–±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–∏–µ –∫–ª–∏–µ–Ω—Ç–∞:
```http
GET /accounts?client_id=cli-001
Authorization: Bearer BANK_TOKEN
X-Consent-ID: consent-abc-123
X-Requesting-Bank: otherbank
```

## üåê –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

### 1. –ù–∞ VPS/VDS

```bash
# –°–∫–æ–ø–∏—Ä—É–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -r bank-in-a-box/ user@server:/opt/

# –ù–∞—Å—Ç—Ä–æ–π nginx
sudo nano /etc/nginx/sites-available/mybank

# SSL —á–µ—Ä–µ–∑ certbot
sudo certbot --nginx -d api.mybank.com

# –ó–∞–ø—É—Å—Ç–∏
cd /opt/bank-in-a-box
docker compose up -d
```

### 2. –ù–∞ Kubernetes

```bash
# –°–æ–∑–¥–∞–π deployment
kubectl apply -f k8s/deployment.yml

# –°–æ–∑–¥–∞–π service
kubectl apply -f k8s/service.yml

# –ù–∞—Å—Ç—Ä–æ–π ingress
kubectl apply -f k8s/ingress.yml
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [docs/](docs/)  
**–ü—Ä–∏–º–µ—Ä—ã:** [examples/](examples/)  
**–ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã:** [Issues](https://github.com/GalkinTech/bank-in-a-box/issues)

**–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç:** [HackAPI 2025](https://github.com/GalkinTech/HackAPI_2025)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –¥–µ–ª–∞–π —á—Ç–æ —Ö–æ—á–µ—à—å!

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–∞–Ω–∫ –¥–ª—è –¥—Ä—É–∑–µ–π
–ü–æ–¥–Ω–∏–º–∏ —Å–≤–æ–π –±–∞–Ω–∫, –¥–æ–±–∞–≤—å –¥—Ä—É–∑–µ–π –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤, –¥–∞–π –∏–º –¥–æ—Å—Ç—É–ø –∫ API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–Ω—Ç–µ—Ö-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–∏—à–µ–≤—ã–π –±–∞–Ω–∫
–°–æ–∑–¥–∞–π –±–∞–Ω–∫ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ (—Å—Ç—É–¥–µ–Ω—Ç—ã, —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä—ã, IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã) —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏.

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–µ—Å–æ—á–Ω–∏—Ü–∞
–ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤–æ–∏—Ö —Ñ–∏–Ω—Ç–µ—Ö-–∏–¥–µ–π –±–µ–∑ —Ä–∏—Å–∫–∞.

## üí° –ò–¥–µ–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏

1. **Gamification** - –¥–æ–±–∞–≤—å —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –±–µ–π–¥–∂–µ–π
2. **AI Assistant** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π ChatGPT –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
3. **Crypto** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
4. **P2P Lending** - –ø–∏—Ä–∏–Ω–≥–æ–≤–æ–µ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏–µ
5. **Cashback** - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
6. **API Marketplace** - –ø—Ä–æ–¥–∞–≤–∞–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–º—É API

## üéâ –£—Å–ø–µ—Ö–æ–≤ –Ω–∞ —Ö–∞–∫–∞—Ç–æ–Ω–µ!

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è HackAPI 2025**  
**–í–µ—Ä—Å–∏—è:** v1.0.0

